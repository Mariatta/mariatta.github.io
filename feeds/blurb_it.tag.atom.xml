<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>mariatta.ca - blurb_it</title><link href="https://mariatta.ca/" rel="alternate"></link><link href="https://mariatta.ca/feeds/blurb_it.tag.atom.xml" rel="self"></link><id>https://mariatta.ca/</id><updated>2018-09-15T11:20:00-07:00</updated><subtitle></subtitle><entry><title>Python Core Sprint 2018: Part One</title><link href="https://mariatta.ca/core-sprint-2018-part-1.html" rel="alternate"></link><published>2018-09-15T11:20:00-07:00</published><updated>2018-09-15T11:20:00-07:00</updated><author><name>Mariatta</name></author><id>tag:mariatta.ca,2018-09-15:/core-sprint-2018-part-1.html</id><summary type="html">&lt;p&gt;For the past week (September 9-14), I've been down in Bellevue, WA for my second
Core Python sprint. The sprint is hosted by Microsoft, and funded by The PSF.&lt;/p&gt;
&lt;div class="section" id="thanks"&gt;
&lt;h2&gt;Thanks&lt;/h2&gt;
&lt;p&gt;Last year, I was only able to stay for the sprint for three days. This year
I'm able to stay ‚Ä¶&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;For the past week (September 9-14), I've been down in Bellevue, WA for my second
Core Python sprint. The sprint is hosted by Microsoft, and funded by The PSF.&lt;/p&gt;
&lt;div class="section" id="thanks"&gt;
&lt;h2&gt;Thanks&lt;/h2&gt;
&lt;p&gt;Last year, I was only able to stay for the sprint for three days. This year
I'm able to stay for the entire week. I got a lot more things done.&lt;/p&gt;
&lt;p&gt;Thanks Steve Dower, for organizing this sprint and figuring out all the
logistics for us. Coordinating this is no easy task, and everything runs smoothly.&lt;/p&gt;
&lt;p&gt;Big thanks to Microsoft for hosting us in Reactor Redmond B20. The facility and the
campus was really awesome. (Ice cream at the back of the room!) I got to
try out the Hololens! Thanks for treating us for a nice dinner, with guest speaker
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Anders_Hejlsberg"&gt;Anders Hejlsberg&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Thanks to The PSF for providing the fund, getting many core devs from all over the
world. It's been valuable being able to spend the whole week collaborating and
talk face-to-face. We really don't get too many opportunities to do this. Sprints
at conferences are normally our opportunity to help onboard new contributors
to Python. Core sprint like this serves a different purpose where we get to focus
on some of our bigger projects, brainstorm with each other, and make decisions.&lt;/p&gt;
&lt;p&gt;Thanks to Zapier, especially my manager, and my teammates at the Partner Engagement
Team, for being supportive and giving me the time away from work. Zapier has
flexible time off policy, so I'm not limited to only taking X days off from work
each year. In addition, I get to focus on Python for the whole week, and not
needed to keep doing daily standup or weekly team meetings.&lt;/p&gt;
&lt;p&gt;Thanks to my family, for supporting and being able to manage themselves while
I'm away. I have been traveling away without them, for work and for Python, once
a month each month since January of this year, and even more of such trips that's
been arranged all the way until August 2019. It really has not been easy for
all of us. But it motivated me to make the most of my time at the sprint.&lt;/p&gt;
&lt;p&gt;Thanks to the core developers who came, away from their home, from their family and work,
for Python. We had many great discussions and chats during the past week, they've
all been very productive, and I really enjoyed being able to spend time with everyone
for Python.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="daily-updates"&gt;
&lt;h2&gt;Daily Updates&lt;/h2&gt;
&lt;p&gt;I've posted my daily updates on twitter.&lt;/p&gt;
&lt;p&gt;Here's the copy-pasta üçù version:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://twitter.com/mariatta/status/1039506319676387330"&gt;Day 1&lt;/a&gt; report:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;automerge bot&lt;/li&gt;
&lt;li&gt;reviewed Larry's fake f-strings hack&lt;/li&gt;
&lt;li&gt;CLA discussion with Brett&lt;/li&gt;
&lt;li&gt;#PEP581 discussion with Ezio&lt;/li&gt;
&lt;li&gt;helped Ethan/Carol with git&lt;/li&gt;
&lt;li&gt;trying to name project&lt;/li&gt;
&lt;li&gt;started new unnamed project&lt;/li&gt;
&lt;li&gt;wrote emails&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="https://twitter.com/mariatta/status/1039742549727031304"&gt;Day 2&lt;/a&gt; report:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;show off automerge bot&lt;/li&gt;
&lt;li&gt;CLA discussion with Brett&lt;/li&gt;
&lt;li&gt;chat about workflow, bots, #PEP581 with Kushal, Victor, Pablo, and Guido&lt;/li&gt;
&lt;li&gt;helped Ethan with git&lt;/li&gt;
&lt;li&gt;decided on new project name: blurb_it&lt;/li&gt;
&lt;li&gt;wrote emails&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="https://twitter.com/mariatta/status/1040062970728837120"&gt;Day 3&lt;/a&gt; report:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;#PEP581 group chat with Ezio, Ned, Pablo, Petr&lt;/li&gt;
&lt;li&gt;work on blurb_it&lt;/li&gt;
&lt;li&gt;core dev group chat&lt;/li&gt;
&lt;li&gt;small enhancement to automerge bot&lt;/li&gt;
&lt;li&gt;bought an xbox&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="https://twitter.com/mariatta/status/1040433812407107584"&gt;Day 4&lt;/a&gt; report:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;dealt with CoC case&lt;/li&gt;
&lt;li&gt;chat about aiohttp async task queues with Andrew&lt;/li&gt;
&lt;li&gt;work on blurb_it&lt;/li&gt;
&lt;li&gt;PSF infra chat with Ernest&lt;/li&gt;
&lt;li&gt;core dev group chats&lt;/li&gt;
&lt;li&gt;gave lightning talk about miss-islington and blurb_it at Microsoft meetup&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a class="reference external" href="https://twitter.com/mariatta/status/1040765915518754816"&gt;Day 5&lt;/a&gt; report:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;miss-islington rate limit issues üòï&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/devguide/pull/414"&gt;self-declaration&lt;/a&gt; as &amp;quot;interested in emoji&amp;quot; üòé&lt;/li&gt;
&lt;li&gt;Python language summit planning with ≈Åukasz&lt;/li&gt;
&lt;li&gt;deployed unofficial blurb_it&lt;/li&gt;
&lt;li&gt;exhausted üò©&lt;/li&gt;
&lt;li&gt;three shots of tequila ü•É&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="new-python-core-developers"&gt;
&lt;h2&gt;New Python Core Developers&lt;/h2&gt;
&lt;p&gt;Welcome Emily Morehouse-Valcarcel and Lisa Roach as new Python core developers!
They're both brilliant, and have been &lt;a class="reference external" href="https://mail.python.org/pipermail/python-committers/2018-September/006059.html"&gt;contributing to Python&lt;/a&gt;
in the past couple years.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="miss-islington"&gt;
&lt;h2&gt;miss-islington&lt;/h2&gt;
&lt;p&gt;miss-islington is a GitHub bot that first developed at last year's core sprint.
The original task of miss-islington was to automatically create backport PRs.&lt;/p&gt;
&lt;p&gt;Over time, she gained new privilege. She's been allowed to merge her own PR once
it has been approved by another core dev.&lt;/p&gt;
&lt;p&gt;This week, miss-islington gained a new superpower. She can now automatically
merge any pull requests that core dev wants her to merge.&lt;/p&gt;
&lt;p&gt;As context, there had been long and lengthy discussion about this &amp;quot;automerge&amp;quot;
ability. Discussion started in &lt;a class="reference external" href="https://github.com/python/core-workflow/issues/29"&gt;core-workflow issue #29&lt;/a&gt;,
opened by Donald Stufft February 2017. It is one functionality that GitLab
has that improves productivity, that GitHub does not yet provide. And as indication
of how complicated CPython workflow is, further discussion about this spilled over to
&lt;a class="reference external" href="https://github.com/python/bedevere/issues/14"&gt;bedevere issue #14&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;While we have come to the resolution and decision of &lt;a class="reference external" href="https://github.com/python/bedevere/issues/14#issuecomment-399585735"&gt;how the automerge&lt;/a&gt; should
work, I guess I just have not find any time to completely focus and work
on implementing it. I spent almost the whole day of the first day of sprint
to implement this. I don't normally have that &amp;quot;one full day to focus and undisturbed to work on Python&amp;quot;
thing, so needless to say, I might never get this done without coming to the sprint.&lt;/p&gt;
&lt;p&gt;If you're curious of how this was implemented, miss-islington is &lt;a class="reference external" href="https://github.com/python/miss-islington"&gt;open source&lt;/a&gt;.
In addition, I will give a keynote speech at &lt;a class="reference external" href="https://2018.djangocon.us/news/mariatta-wijaya/"&gt;DjangoCon US 2018&lt;/a&gt;,
titled &lt;strong&gt;Don't Be a Robot; Build the Bot&lt;/strong&gt;
where I plan to describe some of miss-islington's architecture and challenges in
building it.&lt;/p&gt;
&lt;p&gt;These are the pull requests related to automerge feature:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/miss-islington/pull/146"&gt;Automerge PR labeled with &amp;quot;automerge&amp;quot;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/miss-islington/pull/151"&gt;Normalize commit messages on automerge&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/miss-islington/pull/152"&gt;Don't automerge if there is &amp;quot;DO-NOT-MERGE&amp;quot; label and &amp;quot;CLA not signed&amp;quot; label&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Open issues that we will need to address, eventually:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/miss-islington/issues/153"&gt;Rate limited since the automerge has been deployed.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/miss-islington/issues/155"&gt;Keep track of who triggered the automerge&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/miss-islington/issues/154"&gt;Miss-islington should not self-assign PR that failed to backport&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/python/miss-islington/issues/159"&gt;automerge shouldn't let GH wrap the first line of the commit message&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also read my announcement to &lt;a class="reference external" href="https://mail.python.org/pipermail/python-committers/2018-September/006043.html"&gt;python-committers&lt;/a&gt; about the automerge,
as well as watch a &lt;a class="reference external" href="https://youtu.be/p85YtKKLNno"&gt;YouTube demo video&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="blurb-it"&gt;
&lt;h2&gt;Blurb it!&lt;/h2&gt;
&lt;p&gt;Part of our requirement for every pull requests that you send to CPython, is a news
entry describing the change. This had been heavily discussed and designed in
&lt;a class="reference external" href="https://github.com/python/core-workflow/issues/6"&gt;core-workflow issue #6&lt;/a&gt;,
and we now have Larry Hasting's tool, &lt;a class="reference external" href="https://pypi.org/project/blurb/"&gt;blurb&lt;/a&gt;
(available on PyPI), to help with this. In addition, we have a status check in place
by &lt;a class="reference external" href="https://github.com/python/bedevere"&gt;bedevere&lt;/a&gt; to ensure that the news
file exists, and that we don't forget to add it.&lt;/p&gt;
&lt;p&gt;Larry's blurb works really great, and everyone has been using it without issues.&lt;/p&gt;
&lt;p&gt;My personal nitpick about this, is that (and it's because I'm very lazy), blurb
is a command line tool, and so I have to be on my computer in order to use it.
A lot of time, I found myself reviewing a pull request while on my phone,
and all it needed was a news entry. But since I was on my phone, on transit,
by the beach, or whatever, I could not complete this process, and had to
wait until I'm back on the computer.&lt;/p&gt;
&lt;p&gt;So I've been thinking that it would be nice and convenient if there was a web
interface for blurb. A place for me to fill in a form, and the news file automatically
gets added to the pull request. I had asked Larry earlier at PyCon what he thinks
about this idea. He said that he's okay with it, and he had in fact &lt;a class="reference external" href="https://mail.python.org/pipermail/python-dev/2017-June/148448.html"&gt;mentioned it himself&lt;/a&gt;: &lt;em&gt;&amp;quot;... it should be easy for
some JavaScript expert to write a static page that generates blurb files
for you--it provides a form, you fill it out, and you &amp;quot;download&amp;quot; the
blurb file.  (I've seen pages that do that sort of thing, though I don't
know how to write that kind of JavaScript myself.)&amp;quot;&lt;/em&gt; (python-dev, June 24, 2017).&lt;/p&gt;
&lt;p&gt;Since I don't actually know how to write that kind of JavaScript either, I wrote
it all in Python 3.7, using fine libraries like &lt;a class="reference external" href="https://aiohttp.readthedocs.io/en/latest/"&gt;aiohttp&lt;/a&gt;, &lt;a class="reference external" href="https://aiohttp-session.readthedocs.io/en/latest/"&gt;aiohttp-session&lt;/a&gt;,
&lt;a class="reference external" href="https://aiohttp-jinja2.readthedocs.io/en/stable/"&gt;aiohttp-jinja2&lt;/a&gt;, asyncio, and
&lt;a class="reference external" href="https://gidgethub.readthedocs.io/en/latest/"&gt;gidgethub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Before starting to write this project, I needed to come up with a project name,
and of course it was the hardest part of the process. I had thought of unimaginative
names like, &amp;quot;Blurb on the web&amp;quot; or &amp;quot;blurb_ee (ee: extended edition, pronounced &lt;em&gt;blurbee&lt;/em&gt;)&amp;quot;.
Gregory P. Smith suggested &amp;quot;Blurb 2.0&amp;quot;. It sounds okay, except that I'm not actually implementing
a new &amp;quot;blurb&amp;quot;. I'm trying to provide an enhancement of &amp;quot;blurb add&amp;quot; command, so it
is only a subset of the full &amp;quot;blurb&amp;quot;. &amp;quot;Blurb 2.0&amp;quot; sounds incorrect to me. Larry
himself suggested: &amp;quot;webLurb&amp;quot; (pronounced webblurb, or maybe we blurb?). In the end,
I went with, &amp;quot;blurb_it&amp;quot;, to which Guido responded: &amp;quot;ship_it&amp;quot;. üö¢&lt;/p&gt;
&lt;p&gt;I demoed the prototype of blurb_it at Microsoft meetup on Thursday. I've started
a &lt;a class="reference external" href="https://github.com/python/blurb_it/pull/2"&gt;pull request&lt;/a&gt;, and currently
it is available on my own free Heroku instance at &lt;a class="reference external" href="https://my-blurb-it.herokuapp.com/"&gt;https://my-blurb-it.herokuapp.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There are still more work to be done for blurb_it:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Write unit tests&lt;/li&gt;
&lt;li&gt;Add travis CI integration to the repo&lt;/li&gt;
&lt;li&gt;Transfer app ownership to The PSF&lt;/li&gt;
&lt;li&gt;Make it as a GitHub App instead of an OAuth App&lt;/li&gt;
&lt;li&gt;Add form validation that the news entry has to be more than 30 characters&lt;/li&gt;
&lt;li&gt;Ask for Andrew's feedback on best practises when using aiohttp-session&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="to-be-continued"&gt;
&lt;h2&gt;To be continued&lt;/h2&gt;
&lt;p&gt;That is all the time I have to write up about the sprint. I'm heading back to
Vancouver, and will be out-of-open source for the rest of the month. But I plan
to continue with more details of some of the other projects.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: &lt;a class="reference external" href="https://mariatta.ca/core-sprint-2018-part-2.html"&gt;Part 2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Thanks for reading.&lt;/p&gt;
&lt;/div&gt;
</content><category term="Python"></category><category term="sprint"></category><category term="miss-islington"></category><category term="blurb_it"></category></entry></feed>